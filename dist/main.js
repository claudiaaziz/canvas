!function(){"use strict";var t,s,n,i;t=class{constructor(t,s){this.canvas=t,this.drawingHandler=s,this.colorButtons=document.querySelectorAll(".colorButton"),this.colorInput=document.getElementById("color-picker"),this.currentColor="black"}setupColorHandeling(){this.colorButtons=document.querySelectorAll(".colorButton"),this.colorInput=document.getElementById("color-picker"),this.colorButtons.forEach((t=>{t.addEventListener("click",(()=>{this.currentColor=t.style.backgroundColor}))})),this.colorInput.addEventListener("input",(t=>{this.currentColor=t.target.value}))}},s=class{constructor(t,s,n){this.canvas=t,this.ctx=s,this.colorHandler=n,this.isDrawing=!1,this.currentPath=[],this.drawnPaths=[]}startDrawing(t){this.isDrawing||(this.currentPath=[]),this.isDrawing=!0,this.ctx.beginPath(),this.ctx.moveTo(t.clientX-this.canvas.offsetLeft,t.clientY-this.canvas.offsetTop)}draw(t){if(!this.isDrawing)return;const s=t.clientX-this.canvas.offsetLeft,n=t.clientY-this.canvas.offsetTop;this.ctx.lineTo(s,n),this.ctx.lineCap="round",this.ctx.lineWidth=5,this.ctx.strokeStyle=this.colorHandler.currentColor,this.ctx.stroke(),this.currentPath.push({x:s,y:n,color:this.colorHandler.currentColor})}stopDrawing(){this.isDrawing&&this.drawnPaths.push(this.currentPath),this.isDrawing=!1}},n=class{constructor(t,s,n){this.ctx=t,this.drawingHandler=s,this.colorHandler=n,this.undoBtn=document.getElementById("undo"),this.drawnPaths=[],this.undoBtn.addEventListener("click",(()=>this.undo()))}undo(){this.drawnPaths.length>0&&(this.drawnPaths.pop(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawnPaths.forEach((t=>this.redrawPath(t))))}},i=class{constructor(){this.canvas=document.getElementById("canvas"),this.setupCanvas(),this.ctx=this.canvas.getContext("2d"),this.isDrawing=!1,this.colorHandler=new t(this.canvas,this.drawingHandler),this.drawingHandler=new s(this.canvas,this.ctx,this.colorHandler),this.undoHandler=new n(this.ctx,this.drawingHandler,this.colorHandler),this.setupEventListeners(),this.backgroundInput=document.getElementById("background-color-picker"),this.backgroundInput.addEventListener("input",(()=>this.changeBackgroundColor())),this.clearBtn=document.getElementById("clear"),this.clearBtn.addEventListener("click",(()=>this.clear()))}setupCanvas(){this.canvas.style.position="absolute",this.canvas.style.top="100px",this.canvas.height=window.innerHeight-100-100,this.canvas.width=window.innerWidth}setupEventListeners(){this.canvas.addEventListener("mousedown",this.drawingHandler.startDrawing.bind(this.drawingHandler)),this.canvas.addEventListener("mousemove",this.drawingHandler.draw.bind(this.drawingHandler)),this.canvas.addEventListener("mouseup",this.drawingHandler.stopDrawing.bind(this.drawingHandler)),this.canvas.addEventListener("mouseout",this.drawingHandler.stopDrawing.bind(this.drawingHandler)),this.colorHandler.setupColorHandeling()}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.style.backgroundColor="white"}redrawPath(t){t.forEach(((t,s)=>{0===s?(this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y)):(this.ctx.lineTo(t.x,t.y),this.ctx.lineCap="round",this.ctx.lineWidth=5,this.ctx.strokeStyle=t.color,this.ctx.stroke())}))}changeBackgroundColor(){this.canvas.style.backgroundColor=this.backgroundInput.value}},document.addEventListener("DOMContentLoaded",(()=>{new i}))}();
//# sourceMappingURL=main.js.map